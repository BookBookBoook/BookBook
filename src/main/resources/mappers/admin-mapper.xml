<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.bookbook.mapper.AdminMapper">
    <select id="findAllReviews" resultType="com.project.bookbook.domain.dto.ReviewDTO">
        SELECT r.review_num AS reviewNum,
               u.user_name,
               b.book_name,
               b.author,
               b.isbn,
               r.review_content AS reviewContent,
               r.rate,
               r.review_date AS reviewDate,
               r.recommend,
               r.complaint,
               r.actual_order AS actualOrder
        FROM review r
        JOIN user u ON r.user_id = u.user_id
        JOIN book b On r.book_num = b.book_num
        ORDER BY r.review_date DESC
    </select>
</mapper>